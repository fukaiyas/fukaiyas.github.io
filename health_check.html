<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>人生、気合いと具合</title>
  <link rel="stylesheet" href="/css/main.css"/>
  <style>
    table {
      border-collapse : collapse;
      border-spacing : 0px;
      margin : 12px 4px;
      background-color : #fefefe;
      font-size : 20px;
    }
    th {
      text-align : center;
      background-color : #bbffbb;
    }
    td {
      text-align : right;
      min-width : 64px;
    }
    th,td {
      padding : 4px;
      border : solid 1px black;
    }
    div#graph {
      width : 400px;
      height : 160px;
      border : solid 1px black;
      padding : 0px;
    }
    
  </style>
  <script>
  var init = function(){
    var b = document.getElementById("graph_button");
    b.onclick = function(){
      if(document.getElementById("base").style.display == "block"){
        document.getElementById("base").style.display = "none";
        return;
      }

      document.getElementById("base").style.display = "block";
      var cv = document.getElementById("graph");

      var exists = function(v){
         return v && v 	!= "-";
      };
      var recs = document.getElementsByClassName("health_record");
      var left_pos = 0;
      Array.from(recs).reverse().forEach(rec => {
        var tds = rec.getElementsByTagName("td");
        var weight = tds[0].textContent.trim();
        var mp_t = tds[1].textContent.trim();
        var mp_b = tds[2].textContent.trim();
        var np_t = tds[3].textContent.trim();
        var np_b = tds[4].textContent.trim();
        var waist = tds[5].textContent.trim();

        if(exists(mp_t)){
          var mp = document.createElement("div");
          mp.style.backgroundColor = "#88DD88";
          mp.style.width = "2px";
          mp.style.height = (mp_t - mp_b) + "px";
          mp.style.position = "absolute";
          mp.style.left = left_pos + "px";
          mp.style.top = (200 - mp_t) + "px";
          mp.style.borderWidth = "5px 0px";
          mp.style.borderColor = "#22AA22";
          mp.style.borderStyle = "solid";
          cv.appendChild(mp);
        }

        if(exists(np_t)){
          var np = document.createElement("div");
          np.style.backgroundColor = "#88DD88";
          np.style.width = "2px";
          np.style.height = (np_t - np_b) + "px";
          np.style.position = "absolute";
          np.style.left = (left_pos + 2) + "px";
          np.style.top = (200 - np_t) + "px";
          np.style.borderWidth = "5px 0px";
          np.style.borderColor = "#22AA22";
          np.style.borderStyle = "solid";
          cv.appendChild(np);
        }

        if(exists(waist)){
          var ws = document.createElement("div");
          ws.style.backgroundColor = "#CC2222";
          ws.style.width = "4px";
          ws.style.height = "3px";
          ws.style.position = "absolute";
          ws.style.left = left_pos + "px";
          ws.style.top = (800 - waist * 8) + "px";
          cv.appendChild(ws);
        }

        if(exists(weight)){
          var wp = document.createElement("div");
          wp.style.backgroundColor = "#2222CC";
          wp.style.width = "4px";
          wp.style.height = "3px";
          wp.style.position = "absolute";
          wp.style.left = left_pos + "px";
          wp.style.top = (700 - weight * 8) + "px";
          cv.appendChild(wp);
        }

        left_pos = left_pos + 4;
      });
    };
  }
  </script>
</head>
<body onload="init();">
<header>Health Check</header>
<main>
  <button id="graph_button">graph</button>
  <div id="base" style="display:none;">
    <div style="color:#2222CC;font-weight:bold;">weight</div>
    <div style="color:#22AA22;font-weight:bold;">blood pressure</div>
    <div style="color:#CC2222;font-weight:bold;">waist</div>
    <div id="graph" style="position:relative;"></div>
  </div>
  <table>
    <tr><th rowspan="3"></th><th rowspan="3">weight (kg)</th><th colspan="4">blood pressure (mmHg)</th>           <th rowspan="3">waist (cm)</th></tr>
    <tr>                                                     <th colspan="2">morning</th><th colspan="2">night</th> </tr>
    <tr>                                                     <th>top</th><th>bottom</th> <th>top</th><th>bottom</th></tr>
<!--
    <tr class="health_record"><th> </th><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>
-->
    <tr class="health_record"><th>12/30</th><td>75.6</td><td>129</td><td>95 </td><td> </td><td> </td><td>95.5</td></tr>
    <tr class="health_record"><th>12/29</th><td>76.1</td><td>137</td><td>95 </td><td>124</td><td>92 </td><td>95  </td></tr>
    <tr class="health_record"><th>12/28</th><td>76.9</td><td>132</td><td>99 </td><td>133</td><td>97 </td><td>95.5</td></tr>
    <tr class="health_record"><th>12/27</th><td>76.3</td><td>130</td><td>95 </td><td> - </td><td> - </td><td>95  </td></tr>
    <tr class="health_record"><th>12/26</th><td>76.3</td><td>130</td><td>85 </td><td>139</td><td>99 </td><td>95.5</td></tr>
    <tr class="health_record"><th>12/25</th><td>76.5</td><td>133</td><td>103</td><td> - </td><td> - </td><td>95.5</td></tr>
    <tr class="health_record"><th>12/24</th><td>76.3</td><td>134</td><td>97 </td><td>116</td><td>77 </td><td>95  </td></tr>
    <tr class="health_record"><th>12/23</th><td>76.2</td><td>137</td><td>98 </td><td>135</td><td>99 </td><td>95  </td></tr>
    <tr class="health_record"><th>12/22</th><td>76.3</td><td>135</td><td>99 </td><td> - </td><td> - </td><td>95.5</td></tr>
    <tr class="health_record"><th>12/21</th><td>76.9</td><td>131</td><td>93 </td><td>134</td><td>95 </td><td>95  </td></tr>
    <tr class="health_record"><th>12/20</th><td>76.1</td><td>133</td><td>93 </td><td>135</td><td>94 </td><td>95  </td></tr>
    <tr class="health_record"><th>12/19</th><td>76.6</td><td>119</td><td>87 </td><td>132</td><td>92 </td><td>95.5</td></tr>
    <tr class="health_record"><th>12/18</th><td>76.2</td><td>134</td><td>96 </td><td> - </td><td> - </td><td>94.5</td></tr>
    <tr class="health_record"><th>12/17</th><td>75.9</td><td>134</td><td>92 </td><td>141</td><td>103</td><td>95  </td></tr>
    <tr class="health_record"><th>12/16</th><td>76.3</td><td>133</td><td>93 </td><td>139</td><td>99 </td><td>95  </td></tr>
    <tr class="health_record"><th>12/15</th><td>76.3</td><td>140</td><td>99 </td><td>140</td><td>93 </td><td>95  </td></tr>
    <tr class="health_record"><th>12/14</th><td>76.7</td><td>136</td><td>99 </td><td>144</td><td>104</td><td>95.5</td></tr>
    <tr class="health_record"><th>12/13</th><td>76.3</td><td>138</td><td>100</td><td>143</td><td>102</td><td>95  </td></tr>
    <tr class="health_record"><th>12/12</th><td>76.4</td><td>139</td><td>104</td><td>145</td><td>107</td><td>95  </td></tr>
    <tr class="health_record"><th>12/11</th><td>77.0</td><td>138</td><td>99 </td><td>140</td><td>95 </td><td>94.5</td></tr>
    <tr class="health_record"><th>12/10</th><td>76.5</td><td>135</td><td>100</td><td> - </td><td> - </td><td>95.5</td></tr>
    <tr class="health_record"><th>12/9 </th><td>76.4</td><td>138</td><td>95 </td><td>133</td><td>91 </td><td>95.5</td></tr>
    <tr class="health_record"><th>12/8 </th><td>76.8</td><td>135</td><td>92 </td><td>135</td><td>92 </td><td>94.5</td></tr>
    <tr class="health_record"><th>12/7 </th><td>77.0</td><td>134</td><td>92 </td><td>133</td><td>93 </td><td>96  </td></tr>
    <tr class="health_record"><th>12/6 </th><td>76.6</td><td>131</td><td>98 </td><td>140</td><td>102</td><td>95  </td></tr>
    <tr class="health_record"><th>12/5 </th><td>76.8</td><td>114</td><td>78 </td><td>146</td><td>109</td><td>96  </td></tr>
    <tr class="health_record"><th>12/4 </th><td>76.3</td><td>137</td><td>95 </td><td> - </td><td> - </td><td>95  </td></tr>
    <tr class="health_record"><th>12/3 </th><td>77.0</td><td>143</td><td>103</td><td>136</td><td>95 </td><td>95.5</td></tr>
    <tr class="health_record"><th>12/2 </th><td>77.3</td><td>129</td><td>96 </td><td>155</td><td>114</td><td>95.5</td></tr>
    <tr class="health_record"><th>12/1 </th><td>77.0</td><td>142</td><td>101</td><td> - </td><td> - </td><td>95.5</td></tr>
    <tr class="health_record"><th>11/30</th><td>77.6</td><td>144</td><td>106</td><td>150</td><td>104</td><td> -  </td></tr>
  </table>
  <br/><a href="/index.html" style="text-decoration : underline;">TOP</a>
</main>
<footer></footer>
</body>
</html>
